---
layout: post
title: Binder 跨进程通信
key: 20171204
tags: Binder IPC Android
---

### <i class="fa fa-rebel fa-1x" aria-hidden="true"></i>  Binder IPC 原理
##### <i class="fa fa-star" aria-hidden="true"></i> IPC 概念
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
IPC(Inter-Process Communication)，意为进程间通信，通常是指两个进程之间进行数据交换的过程；Android 不同应用在没有设置 shareUid 的情况下，运行在不同的进程之间，不同应用之间需要进行数据交换的过程属于 IPC 的一种。
##### <i class="fa fa-star" aria-hidden="true"></i> 其他 IPC
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
IPC 在 Linux系统 下，没有 Binder IPC, Binder IPC是 google 工程师为了 Android系统特地开发的一套 IPC ，Linux 下 IPC 有以下几种：

+ 共享内存
+ 套接字
+ 匿名管道
+ 命名管道
+ 消息队里
+ 信号量
+ 信号

有兴趣的可以去了解下以上 IPC 的原理。

##### <i class="fa fa-star" aria-hidden="true"></i> Binder IPC
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
IPC 原理图


每个进程都分为用户空间和内核空间，用户空间的数据是不能跟共享的，而内核空间却是可以共享的，客户端进程把需要交换的数据写入内核层，服务端进程再从内核中获取数据；Binder IPC 就是利用这点来实现数据交互。Binder IPC 是通过 Binder 驱动来实现的，Binder 驱动与其他字符驱动原理一样，在系统启动的时候，会在 dev 目录下创建 binder 驱动，不同的进程通过访问和操作 binder 驱动来实现数据交互；
### <i class="fa fa-rebel fa-1x" aria-hidden="true"></i>  Binder 架构
##### <i class="fa fa-star" aria-hidden="true"></i> 副标题
### <i class="fa fa-rebel fa-1x" aria-hidden="true"></i> Binder 实现细节
##### <i class="fa fa-star" aria-hidden="true"></i> Binder 驱动
##### <i class="fa fa-star" aria-hidden="true"></i> Binder 守护进程
##### <i class="fa fa-star" aria-hidden="true"></i> 注册 Binder 服务
##### <i class="fa fa-star" aria-hidden="true"></i> 获取 Binder 服务
### <i class="fa fa-rebel fa-1x" aria-hidden="true"></i> 匿名 Binder
##### <i class="fa fa-star" aria-hidden="true"></i> 什么是匿名 Binder
### <i class="fa fa-rebel fa-1x" aria-hidden="true"></i> 总结

